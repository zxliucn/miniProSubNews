# miniProSubNews
小程序订阅接口PHP示例

<h3>小程序有两个页面</h3>

  * index是订阅消息页面
  * home是发送订阅消息页面
  * index.php 是PHP示例代码


<h3>关于小程序推送消息升级为订阅消息的相关文章：</h3>

  * 微信-小程序模板消息升级订阅消息调研文档: https://blog.zxliu.cn/archives/237/
  * 微信-小程序订阅消息模板实例代码   https://blog.zxliu.cn/archives/231/
  * 微信-小程序模板消息升级订阅消息难点记录 https://blog.zxliu.cn/archives/235/



<h3>开发过程中的注意点：</h3>

  * 目前小程序开发版与体验版已经关闭了form_id的获取，但线上还可以获取，所以线上的模板消息还可以用，但截至日期不太清楚，小道消息是1/4。
  * 订阅消息发送字段的长度不可超过20个字符，长消息需要做处理，例：收货地址
  * 目前长期性订阅消息仅向政务民生、医疗、交通、金融、教育等线下公共服务开放，后期将逐步支持到其他线下公共服务业务。
  https://developers.weixin.qq.com/community/develop/doc/00008a8a7d8310b6bf4975b635a401?blockType=1
  * 一次性订阅的意思是订阅了一次，就是你用完了这一次下次还需要订阅，一次性订阅消息推送次数跟时间没有关系，只跟订阅次数有关。
  * 一次性订阅选择时，如果勾选了总是保持以上选择，那么订阅消息框将不再弹起，目前就是这样的一个场景，所以需要谨慎引导客户选择。
  * 订阅消息发送接口要用x-www-from-urlencoded格式，将参数放到body体中。
  * 域名要配置https
  * 微信开发者工具上是没法调起订阅消息弹框，需要真机调试或者发布到体验版
 
